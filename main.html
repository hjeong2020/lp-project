<!DOCTYPE html>
<html lang="en">

<head>
    <title>LP Brand Authenticated Page</title>
    <meta lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- BEGIN LivePerson Monitor. -->
    <script
        type="text/javascript">window.lpTag = window.lpTag || {}, 'undefined' == typeof window.lpTag._tagCount ? (window.lpTag = { wl: lpTag.wl || null, scp: lpTag.scp || null, site: '3742363' || '', section: lpTag.section || '', tagletSection: lpTag.tagletSection || null, autoStart: lpTag.autoStart !== !1, ovr: lpTag.ovr || {}, _v: '1.10.0', _tagCount: 1, protocol: 'https:', events: { bind: function (t, e, i) { lpTag.defer(function () { lpTag.events.bind(t, e, i) }, 0) }, trigger: function (t, e, i) { lpTag.defer(function () { lpTag.events.trigger(t, e, i) }, 1) } }, defer: function (t, e) { 0 === e ? (this._defB = this._defB || [], this._defB.push(t)) : 1 === e ? (this._defT = this._defT || [], this._defT.push(t)) : (this._defL = this._defL || [], this._defL.push(t)) }, load: function (t, e, i) { var n = this; setTimeout(function () { n._load(t, e, i) }, 0) }, _load: function (t, e, i) { var n = t; t || (n = this.protocol + '//' + (this.ovr && this.ovr.domain ? this.ovr.domain : 'lptag.liveperson.net') + '/tag/tag.js?site=' + this.site); var o = document.createElement('script'); o.setAttribute('charset', e ? e : 'UTF-8'), i && o.setAttribute('id', i), o.setAttribute('src', n), document.getElementsByTagName('head').item(0).appendChild(o) }, init: function () { this._timing = this._timing || {}, this._timing.start = (new Date).getTime(); var t = this; window.attachEvent ? window.attachEvent('onload', function () { t._domReady('domReady') }) : (window.addEventListener('DOMContentLoaded', function () { t._domReady('contReady') }, !1), window.addEventListener('load', function () { t._domReady('domReady') }, !1)), 'undefined' === typeof window._lptStop && this.load() }, start: function () { this.autoStart = !0 }, _domReady: function (t) { this.isDom || (this.isDom = !0, this.events.trigger('LPT', 'DOM_READY', { t: t })), this._timing[t] = (new Date).getTime() }, vars: lpTag.vars || [], dbs: lpTag.dbs || [], ctn: lpTag.ctn || [], sdes: lpTag.sdes || [], hooks: lpTag.hooks || [], identities: lpTag.identities || [], ev: lpTag.ev || [] }, lpTag.init()) : window.lpTag._tagCount += 1;</script>
    <!-- END LivePerson Monitor. -->
    <!--<script type="text/javascript" src="main.js"></script> -->
    <script>
        lpTag.identities = []
        lpTag.identities.push(identifyFn);
        console.log(lpTag.identities[0])
        //const cartValue = "1000"

        function identifyFn(callback) {
            callback({
                iss: 'LP-Brand',
                acr: 'loa1',
                sub: "1234567890"
            })
        }


        function authenticate(callback) {
            console.log("The Authenticate function has been called");
            const jwt = "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaXNzIjoiTFAtQnJhbmQiLCJhdWQiOiJhY2M6cWE1NzIyMTY3NiIsImV4cCI6MTY2MTk3NTMzMiwiaWF0IjoxNjA4MDYxNzMyfQ.tKAkTYD_rSBrlvBbz5tYbOX3tSW4-cNfuQ5rpVx5-hQ5RvMMPlYp1KqlYQf9vEIL7Ou2YTuOkyOiINjRrKKje9hp_g-p5wzv5ttfpdttg7WRvJP2EuMPutM9gFFu1wwqLyyPwPgb-7gkVF6h5SvXQONsnGa927lXD1NUV2DN-mQ";
            callback(jwt)
        }

    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <style>
        header {
            margin-top: 100px;
        }
        table, th, td {
        border-bottom: 1px solid #ddd;
        border-collapse: collapse;
        padding: 15px;
        width:100%;
       }
    </style>
</head>

<body>
    
        <div class="container mt-10">
            <div id="app"><h4 style="color:blue; text-align: center;" >Order Your Jewelry</h4></div>
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Image</th>
                  <th scope="col">Item</th>
                  <th scope="col">Order</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1</th>
                  <td><img src="ring.jpg" alt="ring" width="100" height="100"></td>
                  <td>Ring</td>
                  <td>$3000<button onclick="myFunction(3000)">Add</button></td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><img src="bracelet.jpg" alt="bracelet" width="100" height="100"></td>
                  <td>Bracelet</td>
                  <td>$2000<button onclick="myFunction(2000)">Add</button></td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td><img src="earring.jpg" alt="earrings" width="100" height="100"></td>
                  <td>Earrings</td>
                  <td>$1000<button onclick="myFunction(1000)">Add</button></td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td><img src="necklace.jpg" alt="necklace" width="100" height="100"></td>
                  <td>Necklace</td>
                  <td>$5000<button onclick="myFunction(5000)">Add</button></td>
                </tr>
              </tbody>
            </table>
            <div>Total is $  <span id="cart" name="cart" style="color:green;"></span></div>
        </div><br><br>
      <header class="text-center">
        <div className="card" style="width: 18rem;">
            <div className="card-body">
                <h5 class="card-title">Authenticated Page</h5>
                <p class="card-text text-warning bg-dark"">Please Go to the Unauthenticated Page</p>
                <a href=" index.html" class="btn btn-primary">Click Here</a>
            </div>
        </div>        
    </header>
   <script>
                                      
    function myFunction(val) {
      const cartValue = 0;
      document.getElementById("cart").innerHTML = val;
      cartValue = val;
      console.log(val);
      console.log("cart value is "+cartValue);
      const title = document.title;

      var lpTag = window.lpTag || {};
      lpTag.sdes = lpTag.sdes || [];
      var data = {
          "type": "cart",
          "total": cartValue,
          "title": title
      };
      console.log(data);
      lpTag.sdes.push(data);
      var fun = function () { lpTag.sdes.push(data)};
      lpTag.sdes.send(data, fun);
      
    }
    
    <!--console.log("cart value is "+cartValue);
    const title = document.title;

    var lpTag = window.lpTag || {};
    lpTag.sdes = lpTag.sdes || [];
    var data = {
        "type": "cart",
        "total": 11.7,
        "title": title
    }
    ;
    console.log(data);
    console.log(cartValue);
    lpTag.sdes.push(data);
    var fun = function () { lpTag.sdes.push(data)};
    lpTag.sdes.send(data, fun); -->
</script>                                        
</body>

</html>
